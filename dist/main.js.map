{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/rendering/react/general.scss","webpack:///./src/rendering/react/map/map.scss","webpack:///./src/rendering/react/structure.scss","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./src/common/Observable.ts","webpack:///./src/common/observable-subscription.ts","webpack:///./src/game/Game.ts","webpack:///./src/game/arenas/arena-room.ts","webpack:///./src/game/arenas/arena-type-service.ts","webpack:///./src/game/arenas/arena.ts","webpack:///./src/game/attributes/attribute-type-service.ts","webpack:///./src/game/attributes/attributes.ts","webpack:///./src/game/game-controller.ts","webpack:///./src/game/game-runner.ts","webpack:///./src/game/game-services.ts","webpack:///./src/game/heroes/hero.ts","webpack:///./src/game/monsters/monster-service.ts","webpack:///./src/game/monsters/monster-type-service.ts","webpack:///./src/game/monsters/monster.ts","webpack:///./src/game/shared/random-service.ts","webpack:///./src/game/shared/value-container.ts","webpack:///./src/game/skills/skill-type-service.ts","webpack:///./src/game/version-service.ts","webpack:///./src/rendering/react/general.scss?99c5","webpack:///./src/rendering/react/index.tsx","webpack:///./src/rendering/react/map/map.scss?b686","webpack:///./src/rendering/react/map/ui-map-body.tsx","webpack:///./src/rendering/react/shared/ui-draggable-container.tsx","webpack:///./src/rendering/react/shared/ui-tab-button.tsx","webpack:///./src/rendering/react/structure.scss?1cf2","webpack:///./src/rendering/react/ui-body.tsx","webpack:///./src/rendering/react/ui-game-context.tsx","webpack:///./src/rendering/react/ui-game.tsx","webpack:///./src/rendering/react/ui-header.tsx","webpack:///external \"React\"","webpack:///external \"ReactDOM\""],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA,kCAAkC,mBAAO,CAAC,2GAAsD;AAChG;AACA;AACA,cAAc,QAAS,aAAa,kBAAkB,EAAE,sBAAsB,kBAAkB,mCAAmC,EAAE,qBAAqB,kBAAkB,2BAA2B,EAAE,6BAA6B,kBAAkB,2BAA2B,mCAAmC,EAAE,aAAa,8BAA8B,2BAA2B,0BAA0B,uBAAuB,wBAAwB,oBAAoB,EAAE,sBAAsB,8BAA8B,2BAA2B,sBAAsB,iBAAiB,uBAAuB,EAAE,mBAAmB,gBAAgB,iBAAiB,8BAA8B,2BAA2B,EAAE,wBAAwB,iBAAiB,8BAA8B,mBAAmB,EAAE,0BAA0B,qBAAqB,gBAAgB,iBAAiB,EAAE;AACz4B;AACA;;;;;;;;;;;;ACNA;AACA,kCAAkC,mBAAO,CAAC,8GAAyD;AACnG;AACA;AACA,cAAc,QAAS,mBAAmB,iBAAiB,gBAAgB,qBAAqB,EAAE,UAAU,uBAAuB,EAAE,sBAAsB,yBAAyB,6BAA6B,EAAE;AACnN;AACA;;;;;;;;;;;;ACNA;AACA,kCAAkC,mBAAO,CAAC,2GAAsD;AAChG;AACA;AACA,cAAc,QAAS,SAAS,8BAA8B,mBAAmB,sBAAsB,EAAE,2BAA2B,gBAAgB,iBAAiB,8BAA8B,kBAAkB,mCAAmC,iBAAiB,EAAE,8BAA8B,oBAAoB,6BAA6B,EAAE,uCAAuC,wBAAwB,EAAE,gDAAgD,wBAAwB,EAAE,2BAA2B,uBAAuB,EAAE,uBAAuB,kBAAkB,EAAE,WAAW,kBAAkB,EAAE,gBAAgB,oBAAoB,6BAA6B,0BAA0B,6BAA6B,oBAAoB,sBAAsB,wBAAwB,EAAE,yBAAyB,4BAA4B,EAAE,eAAe,kBAAkB,kBAAkB,4BAA4B,EAAE;AACz6B;AACA;;;;;;;;;;;;;ACNa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;;AAEA;AACA,4CAA4C,qBAAqB;AACjE;;AAEA;AACA,KAAK;AACL,IAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,qBAAqB,iBAAiB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,qBAAqB;AACzC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;;;;;;AC7Fa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AA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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/rendering/react/index.tsx\");\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".flexbox {\\n  display: flex; }\\n\\n.flexbox-between {\\n  display: flex;\\n  justify-content: space-between; }\\n\\n.flexbox-column {\\n  display: flex;\\n  flex-direction: column; }\\n\\n.flexbox-column-between {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between; }\\n\\n.button {\\n  background-color: #9999BB;\\n  border: 2px solid grey;\\n  display: inline-block;\\n  padding-left: 15px;\\n  padding-right: 15px;\\n  cursor: pointer; }\\n\\n.large-list-card {\\n  background-color: #BB9955;\\n  border: 2px solid grey;\\n  min-height: 150px;\\n  width: 600px;\\n  margin-bottom: 5px; }\\n\\n.progress-bar {\\n  width: 100%;\\n  height: 10px;\\n  background-color: #141414;\\n  border: 1px solid grey; }\\n\\n.progress-bar .bar {\\n  height: 100%;\\n  background-color: #9999BB;\\n  display: block; }\\n\\n.draggable-container {\\n  overflow: hidden;\\n  width: 100%;\\n  height: 100%; }\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#map-container {\\n  height: 100%;\\n  width: 100%;\\n  overflow: hidden; }\\n\\n.map {\\n  position: relative; }\\n  .map .arena-type {\\n    position: absolute;\\n    background-color: grey; }\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"body {\\n  background-color: #141414;\\n  color: #f2f2f2;\\n  user-select: none; }\\n\\n/* Header */\\n#header {\\n  width: 100%;\\n  height: 50px;\\n  background-color: #303030;\\n  display: flex;\\n  justify-content: space-between;\\n  padding: 5px; }\\n  #header .title-container {\\n    display: flex;\\n    flex-direction: column; }\\n    #header .title-container .title {\\n      font-size: 25px; }\\n    #header .title-container .version-number {\\n      font-size: 10px; }\\n  #header .btn-new-game {\\n    padding-top: 8px; }\\n\\n/* Body */\\n#body {\\n  padding: 10px; }\\n\\n.tabs {\\n  display: flex; }\\n  .tabs .tab {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    border: 1px solid grey;\\n    padding: 15px;\\n    cursor: pointer;\\n    user-select: none; }\\n    .tabs .tab.active {\\n      border-color: white; }\\n\\n.tab-body {\\n  width: 1400px;\\n  height: 800px;\\n  border: 1px solid white; }\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","import { ObservableSubscription } from \"./observable-subscription\";\r\n\r\nexport interface Observable {\r\n    addSubscription(observer: object, callback: () => void): void;\r\n    removeSubscription(observer: object): void;\r\n    notify(): void;\r\n}\r\nexport interface ObservableWith1Argument<T0> {\r\n    addSubscription(observer: object, callback: (p0: T0) => void): void;\r\n    removeSubscription(observer: object): void;\r\n    notify(p0: T0): void;\r\n}\r\nexport interface ObservableWith2Arguments<T0, T1> {\r\n    addSubscription(observer: object, callback: (p0: T0, p1: T1) => void): void;\r\n    removeSubscription(observer: object): void;\r\n    notify(p0: T0, p1: T1): void;\r\n}\r\n\r\nexport class ObservableFactory {\r\n    private subscriptions: ObservableSubscription[] = [];\r\n\r\n    private constructor() {}\r\n\r\n    public static create(): Observable {\r\n        return new ObservableFactory();\r\n    } \r\n    public static createWith1Argument<T0>(): ObservableWith1Argument<T0> {\r\n        return new ObservableFactory();\r\n    } \r\n    public static createWith2Arguments<T0, T1>(): ObservableWith2Arguments<T0, T1> {\r\n        return new ObservableFactory();\r\n    }\r\n\r\n    public addSubscription (observer: object, callback: (...args: any[]) => void): void {\r\n        const subscription = new ObservableSubscription(observer, callback);\r\n        this.subscriptions.push (subscription);\r\n    }\r\n\r\n    public removeSubscription (observer: object): void {\r\n        this.subscriptions = this.subscriptions.filter(s => s.observer !== observer);\r\n    }\r\n\r\n    public notify (...args: any[]): void {\r\n        this.subscriptions.forEach(subscription => subscription.callback.apply(subscription.observer, args));\r\n    }\r\n}","export class ObservableSubscription {\r\n    public observer: object;\r\n    public callback: (...args: any[]) => void;\r\n    public constructor (observer: object, callback: (...args: any[]) => void) {\r\n        this.observer = observer;\r\n        this.callback = callback;\r\n    }\r\n}","import { Observable, ObservableFactory } from \"../common/Observable\";\r\nimport { DBGame } from \"../game-state/db-game\";\r\nimport { Hero } from \"./heroes/hero\";\r\nimport { ArenaType } from \"./arenas/arena-type\";\r\nimport { DBArena } from \"../game-state/db-arena\";\r\nimport { Arena } from \"./arenas/arena\";\r\n\r\nexport class Game {\r\n    private dbModel: DBGame;\r\n    public heroes: Hero[];\r\n    public arenas: Arena[];\r\n\r\n    public load(dbGame: DBGame): void {\r\n        this.dbModel = dbGame;\r\n        this.heroes = this.dbModel.heroes.map(dbHero => {\r\n            const hero = new Hero();\r\n            hero.load(dbHero);\r\n            return hero;\r\n        });\r\n\r\n        this.arenas = this.dbModel.arenas.map(dbArena => {\r\n            const arena = new Arena();\r\n            arena.load(dbArena);\r\n            return arena;\r\n        });\r\n    }\r\n\r\n    public update (dTime: number): void {\r\n        //console.log(\"Game\", this.dbModel);\r\n    }\r\n\r\n    public addHero(hero: Hero): void {\r\n        this.dbModel.heroes.push(hero.dbModel);\r\n        this.heroes.push(hero);\r\n    }\r\n\r\n    public spawnArena(type: ArenaType, level: number, heroes: Hero[]): void {\r\n        const rooms = type.spawnRooms(level);\r\n        const dbArena = <DBArena> {\r\n            typeKey: type.key,\r\n            startTime: new Date(),\r\n            level: level,\r\n            rooms: [],\r\n            currentRoomIndex: 0\r\n        }\r\n        const arena = new Arena();\r\n        arena.load(dbArena);\r\n\r\n        arena.dbModel.rooms = rooms.map(room => room.dbModel);\r\n        arena.rooms = rooms;\r\n\r\n        this.dbModel.arenas.push(arena.dbModel);\r\n        this.arenas.push(arena);\r\n\r\n        arena.rooms[0].setHeroes(heroes);\r\n    }\r\n}","import { DBArenaRoom } from \"../../game-state/db-arena-room\";\r\nimport { Monster } from \"../monsters/monster\";\r\nimport { GameServices } from \"../game-services\";\r\nimport { Hero } from \"../heroes/hero\";\r\n\r\nexport class ArenaRoom {\r\n    public dbModel: DBArenaRoom;\r\n    public monsters: Monster[];\r\n    public heroes: Hero[];\r\n\r\n    public get currentMonster () {\r\n        return this.monsters[this.dbModel.currentMonsterIndex];\r\n    }\r\n\r\n    public load (dbArenaRoom: DBArenaRoom): void {\r\n        this.dbModel = dbArenaRoom;\r\n        this.monsters = this.dbModel.monsters.map(dbMonster => {\r\n            const monster = new Monster();\r\n            monster.load(dbMonster);\r\n            return monster;\r\n        });\r\n    }\r\n\r\n    public setHeroes(heroes: Hero[]): void {\r\n        this.heroes = heroes;\r\n        this.dbModel.heroIds = this.heroes.map(hero => hero.dbModel.id);\r\n    }\r\n}\r\n","import { ArenaType } from './arena-type';\r\nimport { DBMonster } from '../../game-state/db-monster';\r\nimport { ArenaRoom } from './arena-room';\r\nimport { MonsterType } from '../monsters/monster-type';\r\nimport { DBArenaRoom } from '../../game-state/db-arena-room';\r\nimport { WeightedValue } from '../shared/weighted-value';\r\nimport { GameServices } from '../game-services';\r\n\r\nexport class ArenaTypeService {\r\n    public allArenaTypes: ArenaType[];\r\n    public initialize (): void {\r\n        this.allArenaTypes = <ArenaType[]>[\r\n             {\r\n                key: 'forest',\r\n                name: 'Forest',\r\n                description: 'Easy monsters!',\r\n                imageName: 'forest.png',\r\n                position: {x: 0, y: 0},\r\n                spawnRooms: (level: number) => {\r\n                    return this.spawnRooms({\r\n                        level: level,\r\n                        amountOfRooms: 10,\r\n                        amountOfMonstersInEachRoom: 5,\r\n                        monsterTypes: [\r\n                            {\r\n                                weight: 20,\r\n                                value: GameServices.monsterTypes.wolf\r\n                            },\r\n                            {\r\n                                weight: 10,\r\n                                value: GameServices.monsterTypes.snake\r\n                            }\r\n                        ]\r\n                    });\r\n                }\r\n            },\r\n            {\r\n                ke: 'brushlands',\r\n                name: 'Brushlands',\r\n                description: 'Also easy monsters!',\r\n                imageName: 'brushlands.png',\r\n                position: {x: 1, y: 0},\r\n                spawnRooms: (level: number) => {\r\n                    return this.spawnRooms({\r\n                        level: level,\r\n                        amountOfRooms: 10,\r\n                        amountOfMonstersInEachRoom: 5,\r\n                        monsterTypes: [\r\n                            {\r\n                                weight: 20,\r\n                                value: GameServices.monsterTypes.wolf\r\n                            },\r\n                            {\r\n                                weight: 10,\r\n                                value: GameServices.monsterTypes.snake\r\n                            }\r\n                        ]\r\n                    });\r\n                }\r\n            }\r\n        ];\r\n    }\r\n\r\n    public getByKey(key: string): ArenaType {\r\n        return this.allArenaTypes.find(type => type.key === key);\r\n    }\r\n\r\n    private spawnRooms(settings: {\r\n        level: number,\r\n        amountOfRooms: number,\r\n        amountOfMonstersInEachRoom: number,\r\n        monsterTypes: WeightedValue<MonsterType>[]\r\n    }): ArenaRoom[] {\r\n        const arenaRooms: ArenaRoom[] = [];\r\n        for (let currentRoomIndex = 0; currentRoomIndex<settings.amountOfRooms; currentRoomIndex++) {\r\n            const dbMonsters: DBMonster[] = [];\r\n            for (let currentMonsterIndex = 0; currentMonsterIndex < settings.amountOfMonstersInEachRoom; currentMonsterIndex++) {\r\n                const monsterType = GameServices.random.getWeightedValue(settings.monsterTypes);\r\n                const dbMonster = GameServices.monsters.createDBMonster(settings.level, monsterType);\r\n                dbMonsters.push(dbMonster);\r\n            }\r\n            const dbArenaRoom = <DBArenaRoom> {\r\n                currentMonsterIndex: 0,\r\n                heroIds: [],\r\n                monsters: dbMonsters\r\n            };\r\n            const arenaRoom = new ArenaRoom();\r\n            arenaRoom.load(dbArenaRoom);\r\n            arenaRooms.push(arenaRoom);\r\n        }\r\n        return arenaRooms;\r\n    }\r\n}\r\n","import { DBArena } from \"../../game-state/db-arena\";\r\nimport { ArenaRoom } from \"./arena-room\";\r\nimport { ArenaType } from \"./arena-type\";\r\nimport { GameServices } from \"../game-services\";\r\n\r\nexport class Arena {\r\n    public dbModel: DBArena;\r\n    public type: ArenaType;\r\n    public rooms: ArenaRoom[];\r\n\r\n    public load (dbArena: DBArena): void {\r\n        this.dbModel = dbArena;\r\n\r\n        this.type = GameServices.arenaTypes.getByKey(dbArena.typeKey);\r\n\r\n        this.rooms = dbArena.rooms.map(dbRoom => {\r\n            const room = new ArenaRoom();\r\n            room.load(dbRoom);\r\n            return room;\r\n        });\r\n    }\r\n}\r\n","import { AttributeType } from \"./attribute-type\";\r\n\r\nexport class AttributeTypeService {\r\n    public attackSpeed: AttributeType;\r\n    public attackDamage: AttributeType;\r\n    public attackCriticalChance: AttributeType;\r\n    public attackCriticalMultiplier: AttributeType;\r\n    public armor: AttributeType;\r\n    public magicResistance: AttributeType;\r\n    public maximumHealth: AttributeType;\r\n    public maximumEnergy: AttributeType;\r\n\r\n    public initialize () {\r\n        this.attackSpeed = <AttributeType> {\r\n            key: 'attack-speed',\r\n            name: 'Attack speed',\r\n            description: 'More attack speed decreases the time needed to recover after performing an attack.'\r\n        };\r\n        this.attackDamage = <AttributeType> {\r\n            key: 'attack-damage',\r\n            name: 'Attack damage',\r\n            description: 'Increases the damage dealt by attacks.'\r\n        };\r\n        this.attackCriticalChance = <AttributeType> {\r\n            key: 'attack-critical-chance',\r\n            name: 'Critical chance',\r\n            description: 'The chance to deal a critical strike with attacks.'\r\n        };\r\n        this.attackCriticalMultiplier = <AttributeType> {\r\n            key: 'attack-critical-multiplier',\r\n            name: 'Critical multiplier',\r\n            description: 'How much damage a critical hit does'\r\n        };\r\n        this.armor = <AttributeType> {\r\n            key: 'armor',\r\n            name: 'Armor',\r\n            description: 'Decreases the physical damage taken.'\r\n        };\r\n        this.magicResistance = <AttributeType> {\r\n            key: 'magic-resistance',\r\n            name: 'Magic Resistance',\r\n            description: 'Decreases the magic damage taken.'\r\n        };\r\n        this.maximumHealth = <AttributeType> {\r\n            key: 'maximum-health',\r\n            name: 'Maximum Health',\r\n            description: 'The character loses health whenever it takes any damage.'\r\n        };\r\n        this.maximumEnergy = <AttributeType> {\r\n            key: 'maximum-energy',\r\n            name: 'Maximum Energy',\r\n            description: 'Some skills cost energy.'\r\n        };\r\n    }\r\n}\r\n","import { Attribute } from \"./attribute\";\r\nimport { ValueContainer } from \"../shared/value-container\";\r\nimport { AttributeType } from \"./attribute-type\";\r\nimport { GameServices } from \"../game-services\";\r\n\r\nexport class Attributes {\r\n    public attackSpeed: ValueContainer;\r\n    public attackDamage: ValueContainer;\r\n    public attackCriticalChance: ValueContainer;\r\n    public attackCriticalMultiplier: ValueContainer;\r\n    public armor: ValueContainer;\r\n    public magicResistance: ValueContainer;\r\n    public maximumHealth: ValueContainer;\r\n    public maximumEnergy: ValueContainer;\r\n\r\n    public all: Attribute[];\r\n\r\n    public get (type: AttributeType): Attribute {\r\n        return this.all.find(attr => attr.type === type);\r\n    }\r\n\r\n    public static create (attributes?: {\r\n        attackSpeed?: number,\r\n        attackDamage?: number,\r\n        attackCriticalChance?: number,\r\n        attackCriticalMultiplier?: number,\r\n        armor?: number,\r\n        magicResistance?: number,\r\n        maximumHealth?: number,\r\n        maximumEnergy?: number\r\n    }): Attributes {\r\n        const attributeTypesService = GameServices.attributeTypes;\r\n\r\n        const newAttributes = new Attributes();\r\n\r\n        if (!attributes) {\r\n            attributes = {};\r\n        }\r\n        newAttributes.attackSpeed = new ValueContainer(attributes.attackSpeed);\r\n        newAttributes.attackDamage = new ValueContainer(attributes.attackDamage);\r\n        newAttributes.attackCriticalChance = new ValueContainer(attributes.attackCriticalChance);\r\n        newAttributes.attackCriticalMultiplier = new ValueContainer(attributes.attackCriticalMultiplier);\r\n        newAttributes.armor = new ValueContainer(attributes.armor);\r\n        newAttributes.magicResistance = new ValueContainer(attributes.magicResistance);\r\n        newAttributes.maximumHealth = new ValueContainer(attributes.maximumHealth);\r\n        newAttributes.maximumEnergy = new ValueContainer(attributes.maximumEnergy);\r\n\r\n        newAttributes.all = [\r\n            <Attribute> {\r\n                amount: newAttributes.attackSpeed,\r\n                type: attributeTypesService.attackSpeed\r\n            },\r\n            <Attribute> {\r\n                amount: newAttributes.attackDamage,\r\n                type: attributeTypesService.attackDamage\r\n            },\r\n            <Attribute> {\r\n                amount: newAttributes.attackCriticalChance,\r\n                type: attributeTypesService.attackCriticalChance\r\n            },\r\n            <Attribute> {\r\n                amount: newAttributes.attackCriticalMultiplier,\r\n                type: attributeTypesService.attackCriticalMultiplier\r\n            },\r\n            <Attribute> {\r\n                amount: newAttributes.armor,\r\n                type: attributeTypesService.armor\r\n            },\r\n            <Attribute> {\r\n                amount: newAttributes.magicResistance,\r\n                type: attributeTypesService.magicResistance\r\n            },\r\n            <Attribute> {\r\n                amount: newAttributes.maximumHealth,\r\n                type: attributeTypesService.maximumHealth\r\n            },\r\n            <Attribute> {\r\n                amount: newAttributes.maximumEnergy,\r\n                type: attributeTypesService.maximumEnergy\r\n            }\r\n        ];\r\n\r\n        return newAttributes;\r\n    }\r\n}\r\n","import { Game } from \"./Game\";\r\nimport { GameRunner } from \"./game-runner\";\r\nimport { DBGame } from \"../game-state/db-game\";\r\nimport { GameServices } from \"./game-services\";\r\nimport { DBArena } from \"../game-state/db-arena\";\r\n\r\nexport class GameController {\r\n    public game: Game;\r\n    public gameRunner: GameRunner;\r\n\r\n    public initialize(): void {\r\n        this.gameRunner = new GameRunner();\r\n    }\r\n\r\n    public newGame() {\r\n        const dbGame = <DBGame> {\r\n            version: GameServices.version.currentVersion,\r\n            startTime: new Date(),\r\n            heroes: [{\r\n                id: 0,\r\n                name: 'Heltefar',\r\n                level: 1,\r\n                experience: 0,\r\n                isAlive: true\r\n            }],\r\n            arenas: []\r\n        };\r\n\r\n        this.game = new Game();\r\n        this.game.load(dbGame);\r\n\r\n        const arenaType = GameServices.arenaTypes.allArenaTypes[0];\r\n        this.game.spawnArena(arenaType, 1, [this.game.heroes[0]]);\r\n\r\n        this.gameRunner.beginUpdating(this.game);\r\n    }\r\n}\r\n","import { Game } from \"./Game\";\r\nimport { Observable, ObservableFactory } from \"../common/Observable\";\r\n\r\nexport class GameRunner {\r\n    private updateFrequency: number = 100;\r\n    private maxTimeToResumePerUpdate: number = 24 * 60 * 60 * 1000;\r\n\r\n    private updateIntervalID: number;\r\n    private lastUpdateAsNumber: number = Date.now();\r\n\r\n    private game: Game;\r\n    \r\n    public onUpdate: Observable = ObservableFactory.create();\r\n\r\n    public beginUpdating(game: Game): void {\r\n        this.game = game;\r\n\r\n        if (this.updateIntervalID) {\r\n            clearInterval(this.updateIntervalID);\r\n        }\r\n\r\n        this.updateIntervalID = setInterval(() => {\r\n            this.update();\r\n        }, this.updateFrequency);\r\n    }\r\n\r\n    private update (): void {\r\n        let timeSinceLastUpdate = Date.now() - this.lastUpdateAsNumber;\r\n\r\n        // Cap catch up duration\r\n        if (timeSinceLastUpdate > this.maxTimeToResumePerUpdate) {\r\n            timeSinceLastUpdate = this.maxTimeToResumePerUpdate;\r\n            this.lastUpdateAsNumber = Date.now() - this.maxTimeToResumePerUpdate;\r\n        }\r\n\r\n        // Update until caught up\r\n        while (timeSinceLastUpdate > this.updateFrequency) {\r\n            timeSinceLastUpdate -= this.updateFrequency;\r\n            this.lastUpdateAsNumber = this.lastUpdateAsNumber + this.updateFrequency;\r\n\r\n            this.game.update(this.updateFrequency);\r\n        }\r\n\r\n        this.onUpdate.notify();\r\n    }\r\n}\r\n","import { AttributeTypeService } from \"./attributes/attribute-type-service\";\r\nimport { VersionService } from \"./version-service\";\r\nimport { RandomService } from \"./shared/random-service\";\r\nimport { SkillTypeService } from \"./skills/skill-type-service\";\r\nimport { MonsterTypeService } from \"./monsters/monster-type-service\";\r\nimport { MonsterService } from \"./monsters/monster-service\";\r\nimport { ArenaTypeService } from \"./arenas/arena-type-service\";\r\n\r\nexport class GameServices {\r\n    public static arenaTypes: ArenaTypeService;\r\n    public static attributeTypes: AttributeTypeService;\r\n    public static monsterTypes: MonsterTypeService;\r\n    public static monsters: MonsterService;\r\n    public static random: RandomService;\r\n    public static skillTypes: SkillTypeService;\r\n    public static version: VersionService;\r\n\r\n    private constructor () {};\r\n\r\n    public static initialize() {\r\n        GameServices.arenaTypes = new ArenaTypeService();\r\n        GameServices.arenaTypes.initialize();\r\n\r\n        GameServices.attributeTypes = new AttributeTypeService();\r\n        GameServices.attributeTypes.initialize();\r\n        \r\n        GameServices.skillTypes = new SkillTypeService();\r\n        GameServices.skillTypes.initialize();\r\n\r\n        GameServices.monsterTypes = new MonsterTypeService();\r\n        GameServices.monsterTypes.initialize();\r\n\r\n        GameServices.monsters = new MonsterService();\r\n\r\n        GameServices.random = new RandomService();\r\n\r\n\r\n        GameServices.version = new VersionService();\r\n    }\r\n}\r\n","import { Attributes } from \"../attributes/attributes\";\r\nimport { DBHero } from \"../../game-state/db-hero\";\r\nimport { Observable, ObservableFactory } from \"../../common/Observable\";\r\n\r\nexport class Hero {\r\n    public dbModel: DBHero;\r\n    public attributes: Attributes;\r\n    public onDeath: Observable = ObservableFactory.create();\r\n\r\n    public get currentHealth(): number {\r\n        return this.dbModel.currentHealth;\r\n    }\r\n    public set currentHealth(value: number) {\r\n        this.dbModel.currentHealth = value;\r\n        if (this.dbModel.currentHealth <= 0 && !this.dbModel.isAlive) {\r\n            this.dbModel.isAlive = false;\r\n            this.onDeath.notify();\r\n        }\r\n    }\r\n\r\n    public load (dbHero: DBHero) {\r\n        this.dbModel = dbHero;\r\n        this.attributes = Attributes.create();\r\n        if (this.dbModel.currentHealth === undefined) {\r\n            this.dbModel.currentHealth = this.attributes.maximumHealth.value;\r\n        }\r\n    }\r\n}","import { MonsterType } from \"./monster-type\";\r\nimport { DBMonster } from \"../../game-state/db-monster\";\r\nimport { DBSkill } from \"../../game-state/db-skill\";\r\nimport { Monster } from \"./monster\";\r\n\r\nexport class MonsterService {\r\n    public createMonster(level: number, type: MonsterType): Monster {\r\n        const dbMonster = this.createDBMonster(level, type);\r\n        const monster = new Monster();\r\n        monster.load(dbMonster);\r\n        return monster;\r\n    }\r\n\r\n    public createDBMonster(level: number, type: MonsterType): DBMonster {\r\n        const dbMonster = <DBMonster> {\r\n            typeKey: type.key,\r\n            level: level,\r\n            isAlive: true,\r\n            skills: type.skillTypes.map(skillType => {\r\n                return <DBSkill> {\r\n                    remainingCooldown: 0, \r\n                    typeKey: skillType.key\r\n                }\r\n            })\r\n        };\r\n\r\n        return dbMonster;\r\n    }\r\n}\r\n","import { MonsterType } from \"./monster-type\";\r\nimport { Attributes } from \"../attributes/attributes\";\r\nimport { GameServices } from \"../game-services\";\r\n\r\nexport class MonsterTypeService {\r\n    public wolf: MonsterType;\r\n    public snake: MonsterType;\r\n\r\n    public allMonsterTypes: MonsterType[];\r\n\r\n    public initialize () {\r\n        this.wolf = <MonsterType> {\r\n            key: 'wolf',\r\n            name: 'Wolf',\r\n            description: 'A mighty wolf',\r\n            imageName: 'wolf.png',\r\n            attributesBase: Attributes.create({\r\n                attackDamage: 10,\r\n                attackSpeed: 1.0,\r\n                armor: 10,\r\n                maximumHealth: 300\r\n            }),\r\n            attributesPerLevel: Attributes.create({\r\n                attackDamage: 1,\r\n                armor: 0.4,\r\n                maximumHealth: 20\r\n            }),\r\n            skillTypes: [GameServices.skillTypes.basicAttack]\r\n        };\r\n\r\n        this.snake = <MonsterType> {\r\n            key: 'snake',\r\n            name: 'Snake',\r\n            description: 'A cunning snake',\r\n            imageName: 'snake.png',\r\n            attributesBase: Attributes.create({\r\n                attackDamage: 15,\r\n                attackSpeed: 2.0,\r\n                maximumHealth: 200\r\n            }),\r\n            attributesPerLevel: Attributes.create({\r\n                attackDamage: 2,\r\n                maximumHealth: 12\r\n            }),\r\n            skillTypes: [GameServices.skillTypes.basicAttack]\r\n        };\r\n\r\n        this.allMonsterTypes = [\r\n            this.wolf, \r\n            this.snake\r\n        ];\r\n    }\r\n\r\n    public getByKey(key: string): MonsterType {\r\n        return this.allMonsterTypes.find(type => type.key === key);\r\n    }\r\n}","import { DBMonster } from \"../../game-state/db-monster\";\r\nimport { Attributes } from \"../attributes/attributes\";\r\nimport { MonsterType } from \"./monster-type\";\r\nimport { Observable, ObservableFactory } from \"../../common/Observable\";\r\nimport { GameServices } from \"../game-services\";\r\n\r\nexport class Monster {\r\n    private dbModel: DBMonster;\r\n    public attributes: Attributes;\r\n    public type: MonsterType;\r\n    public onDeath: Observable = ObservableFactory.create();\r\n\r\n    public get currentHealth(): number {\r\n        return this.dbModel.currentHealth;\r\n    }\r\n    public set currentHealth(value: number) {\r\n        this.dbModel.currentHealth = value;\r\n        if (this.dbModel.currentHealth <= 0 && !this.dbModel.isAlive) {\r\n            this.dbModel.isAlive = false;\r\n            this.onDeath.notify();\r\n        }\r\n    }\r\n\r\n    public load (dbMonster: DBMonster): void {\r\n        this.dbModel = dbMonster;\r\n        this.attributes = Attributes.create();\r\n        this.type = GameServices.monsterTypes.getByKey(this.dbModel.typeKey);\r\n    }\r\n\r\n    public recalculateAttributes(): void {\r\n        this.type.attributesBase.all.forEach(attr => \r\n            this.attributes.get(attr.type).amount.setAdditiveModifier(attr, attr.amount.value)\r\n        );\r\n\r\n        this.type.attributesPerLevel.all.forEach(attr => \r\n            this.attributes.get(attr.type).amount.setAdditiveModifier(attr, attr.amount.value * this.dbModel.level)\r\n        );\r\n    }\r\n}","import { WeightedValue } from \"./weighted-value\";\r\n\r\nexport class RandomService {\r\n    public getWeightedValue <T>(weightedValues: WeightedValue<T>[]): T {\r\n        const weightSum = weightedValues.map(wv => wv.weight).reduce((prev, cur) => prev + cur);\r\n        let result = Math.random() * weightSum;\r\n        for(let wv of weightedValues) {\r\n            if (result <= wv.weight) {\r\n                return wv.value;\r\n            } else {\r\n                result -= wv.weight;\r\n            }\r\n        }\r\n    }\r\n\r\n    public rollSuccess (successChance: number): boolean {\r\n        return Math.random() < successChance;\r\n    }\r\n}\r\n","import { ObservableWith1Argument, ObservableFactory } from \"../../common/Observable\";\r\n\r\nclass ValueModifier {\r\n    public amount: number;\r\n    public key: any;\r\n\r\n    constructor (key: any, amount: number) {\r\n        this.amount = amount;\r\n        this.key = key;\r\n    }\r\n}\r\n\r\nexport class ValueContainer {\r\n    private additiveModifiers: ValueModifier[] = [];\r\n    private multiplicativeModifiers: ValueModifier[] = [];\r\n    public value = 0;\r\n    public onValueChange: ObservableWith1Argument<number> = ObservableFactory.createWith1Argument<number>();\r\n    public constructor (baseValue?: number) {\r\n        if (baseValue !== undefined) {\r\n            this.setAdditiveModifier(this, baseValue);\r\n        }\r\n    }\r\n    public recalculateValue (): void {\r\n        let newValue = 0;\r\n        this.additiveModifiers.forEach(mod => newValue += mod.amount);\r\n        this.multiplicativeModifiers.forEach(mod => newValue *= mod.amount);\r\n        if (this.value !== newValue) {\r\n            this.value = newValue;\r\n            this.onValueChange.notify(newValue);\r\n        }\r\n    }\r\n    public setAdditiveModifier (key: any, amount: number) {\r\n        const existingModifier = this.additiveModifiers.find(mod => mod.key === key);\r\n        if (existingModifier) {\r\n            existingModifier.amount = amount;\r\n        } else {\r\n            const newModifier = new ValueModifier(key, amount);\r\n            this.additiveModifiers.push(newModifier);\r\n        }\r\n        this.recalculateValue();\r\n    }\r\n    public setMultiplicativeModifier (key: any, amount: number) {\r\n        const existingModifier = this.multiplicativeModifiers.find(mod => mod.key === key);\r\n        if (existingModifier) {\r\n            existingModifier.amount = amount;\r\n        } else {\r\n            const newModifier = new ValueModifier(key, amount);\r\n            this.multiplicativeModifiers.push(newModifier);\r\n        }\r\n        this.recalculateValue();\r\n    }\r\n    public removeAllModifiers (key: any): void {\r\n        this.additiveModifiers = this.additiveModifiers.filter(mod => mod.key !== key);\r\n        this.multiplicativeModifiers = this.multiplicativeModifiers.filter(mod => mod.key !== key);\r\n    }\r\n}\r\n","import { SkillType } from \"./skill-type\";\r\nimport { Character } from \"../arenas/character\";\r\nimport { ArenaRoom } from \"../arenas/arena-room\";\r\nimport { GameServices } from \"../game-services\";\r\n\r\nexport class SkillTypeService {\r\n    public basicAttack: SkillType;\r\n    public initialize() {\r\n        this.basicAttack = <SkillType> {\r\n            key: \"basic-attack\",\r\n            cooldown: 1000,\r\n            energyCost: 0,\r\n            effect: (user: Character, arenaRoom: ArenaRoom) => {\r\n                let damage = user.attributes.attackDamage.value;\r\n                const isCriticalStrike = GameServices.random.rollSuccess(user.attributes.attackCriticalMultiplier.value);\r\n                if (isCriticalStrike) {\r\n                    damage *= user.attributes.attackCriticalMultiplier.value;\r\n                }\r\n\r\n                this.dealDamage(arenaRoom.currentMonster, damage);\r\n            }\r\n        };\r\n    }\r\n\r\n    private dealDamage(damageReceiver: Character, damage: number): void {\r\n        const damageReceived = this.reduceDamageBasedOnArmor(damage, damageReceiver.attributes.armor.value);\r\n        damageReceiver.currentHealth -= damageReceived;\r\n    }\r\n\r\n    private reduceDamageBasedOnArmor(damage: number, armor: number): number {\r\n        return damage * 100/(100 + armor);\r\n    }\r\n}\r\n","import { DBGame } from \"../game-state/db-game\";\r\n\r\nexport class VersionService {\r\n    public currentVersion: string = \"0.0.1\";\r\n\r\n    public upgradeSaveGameToCurrentVersion (dbGame: DBGame): DBGame {\r\n        return dbGame;\r\n    }\r\n}\r\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./general.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport './general.scss';\r\nimport './structure.scss';\r\nimport './map/map.scss'\r\n\r\nimport { UIGame } from \"./ui-game\";\r\nimport { GameServices } from \"../../game/game-services\";\r\n\r\nGameServices.initialize();\r\n\r\nvar game  = \"hej\";\r\n\r\nReactDOM.render(\r\n    <UIGame />,\r\n    document.getElementById(\"game-container\")\r\n);","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./map.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","import React = require(\"react\");\r\nimport { GameServices } from \"../../../game/game-services\";\r\nimport { ArenaType } from \"../../../game/arenas/arena-type\";\r\nimport { Vector2 } from \"../../../common/vector2\";\r\nimport { UIDraggableContainer } from \"../shared/ui-draggable-container\";\r\n\r\n// export class UIMapBody extends React.Component<{}, {drawOffset: Vector2, zoom: number}> {\r\nexport class UIMapBody extends React.Component<{}, {}> {\r\n    private arenaTypeWidth = 200;\r\n    private arenaTypeHeight = 200;\r\n    private arenaTypeMargin = 10;\r\n    // private minZoom = 0.2;\r\n    // private maxZoom = 2;\r\n    // private wheelZoomEffect = 0.001;\r\n    // private keyboardScrollEffect = 40;\r\n\r\n    // private documentKeyDownHandler: (event: KeyboardEvent) => void;\r\n    // constructor(props: {}) {\r\n    //     super(props);\r\n\r\n    //     this.state = {\r\n    //         drawOffset: {x: 0, y: 0}, \r\n    //         zoom: 1\r\n    //     };\r\n    // }\r\n    private getLeftInPixels(position: Vector2): string {\r\n        //const value = this.state.drawOffset.x + (position.x * (this.arenaTypeWidth + this.arenaTypeMargin) * this.state.zoom);\r\n        const value = position.x * (this.arenaTypeWidth + this.arenaTypeMargin);\r\n        return value + 'px';\r\n    }\r\n    private getTopInPixels(position: Vector2): string {\r\n        //const value = this.state.drawOffset.y + (position.y * (this.arenaTypeHeight + this.arenaTypeMargin) * this.state.zoom);\r\n        const value = position.y * (this.arenaTypeHeight + this.arenaTypeMargin);\r\n        return value + 'px';\r\n    }\r\n    private getWidthtInPixels(width: number): string {\r\n        //const value = width * this.state.zoom;\r\n        const value = width;\r\n        return value + 'px';\r\n    }\r\n    private getHeightInPixels(height: number): string {\r\n        //const value = height * this.state.zoom;\r\n        const value = height;\r\n        return value + 'px';\r\n    }\r\n    private getArenaTypeStyles(arenaType: ArenaType): React.CSSProperties {\r\n        return {\r\n            left: this.getLeftInPixels(arenaType.position),\r\n            top: this.getTopInPixels(arenaType.position),\r\n            width: this.getWidthtInPixels(this.arenaTypeWidth),\r\n            height: this.getHeightInPixels(this.arenaTypeHeight)\r\n        };\r\n    }\r\n    // private setZoom(value: number) {\r\n    //     if (value < this.minZoom) {\r\n    //         this.setState({zoom: this.minZoom});\r\n    //     } else if (value > this.maxZoom) {\r\n    //         this.setState({zoom: this.maxZoom});\r\n    //     } else {\r\n    //         this.setState({zoom: value});\r\n    //     }\r\n    // }\r\n    // private onWheel(wheelEvent: React.WheelEvent<HTMLDivElement>): void {\r\n    //     let zoom = this.state.zoom - this.wheelZoomEffect * wheelEvent.deltaY;\r\n    //     this.setZoom(zoom);\r\n    // }\r\n    // private getMapStyles(): React.CSSProperties {\r\n    //     return {\r\n    //         zoom: this.state.zoom * 100 + '%',\r\n    //         transform: `translate(${this.state.drawOffset.x}px, ${this.state.drawOffset.y}px)`\r\n    //     };\r\n    // }\r\n    // private handleKeyDown(keyCode: number): void {\r\n    //     let deltaX: number = 0;\r\n    //     let deltaY: number = 0;\r\n    //     switch(keyCode) {\r\n    //         case 37: \r\n    //             deltaX = -this.keyboardScrollEffect;\r\n    //         break;\r\n    //         case 39: \r\n    //             deltaX = this.keyboardScrollEffect;\r\n    //         break;\r\n    //         case 38: \r\n    //             deltaY = -this.keyboardScrollEffect;\r\n    //         break;\r\n    //         case 40: \r\n    //             deltaY = this.keyboardScrollEffect;\r\n    //         break;\r\n    //     }\r\n    //     this.setState({\r\n    //         drawOffset: {\r\n    //             x: this.state.drawOffset.x + deltaX, \r\n    //             y: this.state.drawOffset.y + deltaY\r\n    //         }\r\n    //     });\r\n    // }\r\n    // public componentWillMount(): void {\r\n    //     this.documentKeyDownHandler = (event: KeyboardEvent) => {this.handleKeyDown(event.keyCode)}\r\n    //     document.addEventListener(\"keydown\", this.documentKeyDownHandler, false);\r\n    // }\r\n    // public componentWillUnmount(): void {\r\n    //     document.removeEventListener(\"keydown\", this.documentKeyDownHandler, false);\r\n    // }\r\n    public render(): JSX.Element {\r\n        return (\r\n            <UIDraggableContainer>\r\n                <div className=\"map\">\r\n                    {GameServices.arenaTypes.allArenaTypes.map(arenaType => \r\n                        <div \r\n                            key={arenaType.key} \r\n                            className=\"arena-type\" \r\n                            style={this.getArenaTypeStyles(arenaType)}\r\n                        >{arenaType.name}</div>\r\n                    )}\r\n                </div>\r\n            </UIDraggableContainer>\r\n            // <div \r\n            //     id=\"map-container\"\r\n            //     onWheel={(event: React.WheelEvent<HTMLDivElement>) => this.onWheel(event)}\r\n            // >\r\n            //     <div id=\"map\" style={this.getMapStyles()}>\r\n            //         {GameServices.arenaTypes.allArenaTypes.map(arenaType => \r\n            //             <div \r\n            //                 key={arenaType.key} \r\n            //                 className=\"arena-type\" \r\n            //                 style={this.getArenaTypeStyles(arenaType)}\r\n            //             >{arenaType.name}</div>\r\n            //         )}\r\n            //     </div>\r\n            // </div>\r\n        );\r\n    }\r\n}\r\n","import React = require(\"react\");\r\nimport { Vector2 } from \"../../../common/vector2\";\r\n\r\nexport class UIDraggableContainer extends React.Component<{children: React.ReactNode}, {translate: Vector2, zoom: number}> {\r\n    // Constants\r\n    private minZoom = 0.2;\r\n    private maxZoom = 2;\r\n    private wheelZoomEffect = 0.001;\r\n    private keyboardScrollSpeed = 1000;\r\n\r\n    // Mouse movement\r\n    private isDragging: boolean = false;\r\n    private dragTranslateX: number;\r\n    private dragTranslateY: number;\r\n    private dragActualX: number;\r\n    private dragActualY: number;\r\n\r\n    // Keyboard movement\r\n    private keysDown: number[] = [];\r\n    private updateIntervalID: number;\r\n    private documentKeyDownHandler: (event: KeyboardEvent) => void;\r\n    private documentKeyUpHandler: (event: KeyboardEvent) => void;\r\n\r\n    constructor(props: {children: React.ReactNode}) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            translate: {x: 0, y: 0}, \r\n            zoom: 1\r\n        };\r\n    }\r\n    \r\n    private setZoom(value: number): number {\r\n        let newZoom = value;\r\n        if (value < this.minZoom) {\r\n            newZoom = this.minZoom;\r\n        } else if (value > this.maxZoom) {\r\n            newZoom = this.maxZoom;\r\n        }\r\n        this.setState({zoom: newZoom});\r\n        return newZoom;\r\n    }\r\n    private getContainerFromEventTarget(eventTarget: EventTarget): HTMLElement {\r\n        const targetElement = eventTarget as HTMLElement;\r\n        const isContainer = targetElement.classList.contains('.draggable-container');\r\n        const container = isContainer ? targetElement : targetElement.closest('.draggable-container');\r\n        return container as HTMLElement;\r\n    }\r\n    private onWheel(wheelEvent: React.WheelEvent<HTMLDivElement>): void {\r\n        const containerHTMLElement: HTMLElement = this.getContainerFromEventTarget(wheelEvent.target);\r\n        const viewPortX = wheelEvent.clientX - containerHTMLElement.offsetLeft;\r\n        const viewPortY = wheelEvent.clientY - containerHTMLElement.offsetTop;\r\n\r\n        const previousZoom = this.state.zoom;\r\n        const previousTranslateX = this.state.translate.x;\r\n        const previousTranslateY = this.state.translate.y;\r\n        const previousActualX = viewPortX / previousZoom - previousTranslateX;\r\n        const previousActualY = viewPortY / previousZoom - previousTranslateY;\r\n\r\n        const initialNewZoom = this.state.zoom - this.wheelZoomEffect * wheelEvent.deltaY;\r\n        const actualNewZoom = this.setZoom(initialNewZoom);\r\n\r\n        const newTranslateX = viewPortX / actualNewZoom - previousActualX;\r\n        const newTranslateY = viewPortY / actualNewZoom - previousActualY;\r\n\r\n        this.setState({\r\n            translate: {\r\n                x: newTranslateX,\r\n                y: newTranslateY\r\n            }\r\n        });\r\n    }\r\n    private onMouseDown (mouseEvent: React.MouseEvent<HTMLDivElement>): void {\r\n        const containerHTMLElement: HTMLElement = this.getContainerFromEventTarget(mouseEvent.target);\r\n        this.isDragging = true;\r\n        const viewPortX = mouseEvent.clientX - containerHTMLElement.offsetLeft;\r\n        const viewPortY = mouseEvent.clientY - containerHTMLElement.offsetTop;\r\n        const zoom = this.state.zoom;\r\n        const translateX = this.state.translate.x;\r\n        const translateY = this.state.translate.y;\r\n        const actualX = viewPortX / zoom - translateX;\r\n        const actualY = viewPortY / zoom - translateY;\r\n\r\n        this.dragTranslateX = translateX;\r\n        this.dragTranslateY = translateY;\r\n        this.dragActualX = actualX;\r\n        this.dragActualY = actualY;\r\n    }\r\n    private onMouseUp (mouseEvent: React.MouseEvent<HTMLDivElement>): void {\r\n        this.isDragging = false;\r\n    }\r\n    private onMouseMove (mouseEvent: React.MouseEvent<HTMLDivElement>): void {\r\n        if (this.isDragging) {\r\n            const containerHTMLElement: HTMLElement = this.getContainerFromEventTarget(mouseEvent.target);\r\n            const viewPortX = mouseEvent.clientX - containerHTMLElement.offsetLeft;\r\n            const viewPortY = mouseEvent.clientY - containerHTMLElement.offsetTop;\r\n            const zoom = this.state.zoom;\r\n            const actualX = viewPortX / zoom - this.dragTranslateX;\r\n            const actualY = viewPortY / zoom - this.dragTranslateY;\r\n            const deltaX = actualX - this.dragActualX;\r\n            const deltaY = actualY - this.dragActualY;\r\n            const newTranslateX = this.dragTranslateX + deltaX;\r\n            const newTranslateY = this.dragTranslateY + deltaY;\r\n    \r\n            this.setState({\r\n                translate: {\r\n                    x: newTranslateX,\r\n                    y: newTranslateY\r\n                }\r\n            });\r\n        }\r\n    }\r\n    private handleKeyDown(keyCode: number): void {\r\n        if (!this.keysDown.includes(keyCode)) {\r\n            this.keysDown.push(keyCode);\r\n        }\r\n    }\r\n    private handleKeyUp(keyCode: number): void {\r\n        if (this.keysDown.includes(keyCode)) {\r\n            this.keysDown.splice(this.keysDown.indexOf(keyCode), 1);\r\n        }\r\n    }\r\n    private getDraggableStyles(): React.CSSProperties {\r\n        return {\r\n            zoom: this.state.zoom * 100 + '%',\r\n            transform: `translate(${this.state.translate.x}px, ${this.state.translate.y}px)`\r\n        };\r\n    }\r\n    private update(dTime: number): void {\r\n        let deltaX: number = 0;\r\n        let deltaY: number = 0;\r\n        if (this.keysDown.includes(37)) {\r\n            deltaX -= this.keyboardScrollSpeed;\r\n        }\r\n        if (this.keysDown.includes(39)) {\r\n            deltaX += this.keyboardScrollSpeed;\r\n        }\r\n        if (this.keysDown.includes(38)) {\r\n            deltaY -= this.keyboardScrollSpeed;\r\n        }\r\n        if (this.keysDown.includes(40)) {\r\n            deltaY += this.keyboardScrollSpeed;\r\n        }\r\n        this.setState({\r\n            translate: {\r\n                x: this.state.translate.x + deltaX / dTime,\r\n                y: this.state.translate.y + deltaY / dTime\r\n            }\r\n        });\r\n    }\r\n    public componentWillMount(): void {\r\n        this.documentKeyDownHandler = (event: KeyboardEvent) => {this.handleKeyDown(event.keyCode)}\r\n        this.documentKeyUpHandler = (event: KeyboardEvent) => {this.handleKeyUp(event.keyCode)}\r\n        this.updateIntervalID = setInterval(() => this.update(50), 50);\r\n        document.addEventListener(\"keydown\", this.documentKeyDownHandler, false);\r\n        document.addEventListener(\"keyup\", this.documentKeyUpHandler, false);\r\n    }\r\n    public componentWillUnmount(): void {\r\n        clearInterval(this.updateIntervalID);\r\n        document.removeEventListener(\"keydown\", this.documentKeyDownHandler, false);\r\n        document.removeEventListener(\"keyup\", this.documentKeyUpHandler, false);\r\n    }\r\n    public render(): JSX.Element {\r\n        return (\r\n            <div \r\n                className=\"draggable-container\"\r\n                onWheel={(event: React.WheelEvent<HTMLDivElement>) => this.onWheel(event)}\r\n                onMouseDown={(event: React.MouseEvent<HTMLDivElement>) => this.onMouseDown(event)}\r\n                onMouseUp={(event: React.MouseEvent<HTMLDivElement>) => this.onMouseUp(event)}\r\n                onMouseMove={(event: React.MouseEvent<HTMLDivElement>) => this.onMouseMove(event)}\r\n            >\r\n                <div \r\n                    className=\"draggable\"\r\n                    style={this.getDraggableStyles()}\r\n                >\r\n                    { this.props.children }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React = require(\"react\");\r\n\r\nexport class UITabButton extends React.Component<{text: string, imageUrl: string, isActive: boolean, onClick: () => void}> {\r\n    public render(): JSX.Element {\r\n        let className = 'tab';\r\n        if (this.props.isActive) {\r\n            className += ' active';\r\n        }\r\n\r\n        return (\r\n            <li className={className} onClick={this.props.onClick}>\r\n                <span>{this.props.text}</span>\r\n                <img src={this.props.imageUrl} />\r\n            </li>\r\n        );\r\n    }\r\n}","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./structure.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","import React = require(\"react\");\r\nimport { Game } from \"../../game/game\";\r\nimport { UITabButton } from \"./shared/ui-tab-button\";\r\nimport { UIMapBody } from \"./map/ui-map-body\";\r\n\r\ninterface TabProps {\r\n    key: string;\r\n    text: string;\r\n    imageUrl: string;\r\n}\r\n\r\nexport class UIBody extends React.Component<{game: Game},{activeTabKey: string}> {\r\n    private tabs: TabProps[];\r\n\r\n    constructor(props: {game:Game}) {\r\n        super(props);\r\n\r\n        this.tabs = [\r\n            {\r\n                key: 'hero',\r\n                text: 'Hero',\r\n                imageUrl: 'img/tabs/heroes.png'\r\n            },\r\n            {\r\n                key: 'combat',\r\n                text: 'Combat',\r\n                imageUrl: 'img/tabs/heroes.png'\r\n            },\r\n            {\r\n                key: 'map',\r\n                text: 'Map',\r\n                imageUrl: 'img/tabs/heroes.png'\r\n            },\r\n            {\r\n                key: 'quests',\r\n                text: 'Quests',\r\n                imageUrl: 'img/tabs/heroes.png'\r\n            },\r\n        ]\r\n\r\n        this.state = {activeTabKey: \"hero\"};\r\n    }\r\n    private selectTab(tabKey: string): void {\r\n        this.setState ({activeTabKey: tabKey});\r\n    }\r\n    private renderCurrentTabBody(): JSX.Element {\r\n        switch(this.state.activeTabKey) {\r\n            case 'hero':\r\n                return null;\r\n            case 'combat':\r\n                return null;\r\n            case 'map':\r\n                return <UIMapBody></UIMapBody>;\r\n            case 'quests':\r\n                return null;\r\n            default: \r\n                return null;\r\n        }\r\n    }\r\n    public render(): JSX.Element {\r\n        return (\r\n            <div id=\"body\">\r\n                <ul className=\"tabs\">\r\n                    {this.tabs.map(tab =>\r\n                        <UITabButton \r\n                            key={tab.key}\r\n                            text={tab.text} \r\n                            imageUrl={tab.imageUrl} \r\n                            isActive={this.state.activeTabKey === tab.key}\r\n                            onClick={() => this.selectTab(tab.key)}\r\n                        ></UITabButton>\r\n                    )}\r\n                </ul>\r\n                <div className=\"tab-body\">\r\n                    {this.renderCurrentTabBody()}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React = require(\"react\");\r\nimport { Game } from \"../../game/game\";\r\n\r\nexport const GameContext = React.createContext<Game>(null);\r\n","import * as React from \"react\";\r\nimport { Game } from \"../../game/game\";\r\nimport { GameContext } from \"./ui-game-context\";\r\nimport { UIHeader } from \"./ui-header\";\r\nimport { UIBody } from \"./ui-body\";\r\nimport { GameController } from \"../../game/game-controller\";\r\nimport { GameServices } from \"../../game/game-services\";\r\n\r\nexport class UIGame extends React.Component<{}, {game: Game}> {\r\n    constructor (props: {game: Game}) {\r\n        super(props);\r\n\r\n        this.state = {game: null};\r\n    }\r\n    newGame() {\r\n        const gameController = new GameController();\r\n        gameController.initialize();\r\n\r\n        gameController.newGame();\r\n        \r\n        this.setState({game: gameController.game});\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <UIHeader versionNumber={GameServices.version.currentVersion} onNewGameClick={()=>this.newGame()}></UIHeader>\r\n                {\r\n                    this.state.game\r\n                    ? \r\n                    <GameContext.Provider value={this.state.game}>\r\n                        <UIBody game={this.state.game}></UIBody>\r\n                    </GameContext.Provider>\r\n                    : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","import React = require(\"react\");\r\n\r\nexport class UIHeader extends React.Component<{versionNumber: string, onNewGameClick: () => void}> {\r\n    public render(): JSX.Element {\r\n        return (\r\n            <div id=\"header\">\r\n                <span className=\"title-container\">\r\n                    <span className=\"title\">Loot Hoarder</span>\r\n                    <span className=\"version-number\">v{this.props.versionNumber}</span>\r\n                </span>\r\n                <span className=\"button btn-new-game\" onClick={this.props.onNewGameClick}>New game</span>\r\n            </div>\r\n        );\r\n    }\r\n}","module.exports = React;","module.exports = ReactDOM;"],"sourceRoot":""}